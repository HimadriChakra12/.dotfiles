#!/usr/bin/env bash
# author: gotbletu (@youtube|github|odysee)
# desc: copy emoji to clipboard (rofi version)

# Force UTF-8 encoding for the script environment
export LANG=en_US.UTF-8
export LC_ALL=en_US.UTF-8

# {{{ emoji list
# {{{ emoji list
mylist() {
    cat <<'EOF'
speak |ðŸ—£ðŸ“£ 
angry |ðŸ˜¡ 
geek |â˜ðŸ¼ðŸ¤“ 
hehe |ðŸ˜€ 
lmfao |ðŸ¤£ 
melting |ðŸ«  
angel innocent |ðŸ˜‡ 
happy heart |ðŸ¥° 
heart-eyes |ðŸ˜ 
star-eyes |ðŸ¤© 
blowing flying kiss |ðŸ˜˜ 
Party partying face |ðŸ¥³ 
cool sunglass glass |ðŸ˜Ž 
skull |ðŸ’€ 
fire |ðŸ”¥ 
sparkles stars |âœ¨ 
star |â­ 
red heart |â¤ï¸ 
thumbs up |ðŸ‘ 
waving hand |ðŸ‘‹ 
greet sorry nomoshkar |ðŸ™ 
flexed biceps |ðŸ’ª 
brain |ðŸ§  
Animals dog face |ðŸ¶ 
Animals cat face |ðŸ± 
Animals penguin |ðŸ§ 
Animals turtle |ðŸ¢ 
Animals whale |ðŸ³ 
Food pizza |ðŸ• 
Food burger |ðŸ” 
Food taco |ðŸŒ® 
Food sushi |ðŸ£ 
Drink beer mug |ðŸº 
Drink hot beverage |â˜• 
Object light bulb |ðŸ’¡ 
Object laptop |ðŸ’» 
Object closed lock |ðŸ”’ 
Object file folder |ðŸ“‚ 
Symbols check right mark button |âœ… 
Symbols cross mark |âŒ 
Yummy |ðŸ˜‹ 
shhhhhhh |ðŸ¤« 
sus |ðŸ¤¨ 
slay |ðŸ’… 
rose |ðŸŒ¹ 
blush |â˜ºï¸ 
tooblush |ðŸ˜Š 
finger pookie |ðŸ‘‰ðŸ‘ˆ 
EOF
}
# }}}
# }}}

# 1. Pipe only the NAMES (everything before the '|') to Rofi
selected_name="$(mylist | cut -d'|' -f1 | rofi -dmenu -i -p "Search Emoji Name" \
    -font "JetBrains Mono 15" \
    -theme-str 'window {width: 40%;} listview {lines: 15;}')"

# Exit if nothing selected
[[ -z "$selected_name" ]] && exit

# 2. Find the selected name in the original list and extract the emoji
# We trim whitespace to ensure a clean match
emoji=$(mylist | grep "^$selected_name" | cut -d'|' -f2 | tr -d ' ')

# 3. Copy to clipboard
if command -v wl-copy >/dev/null 2>&1; then
    printf "%s" "$emoji" | wl-copy
elif command -v xclip >/dev/null 2>&1; then
    printf "%s" "$emoji" | xclip -selection clipboard
fi

notify-send "Emoji Copied" "The emoji $emoji ($selected_name) has been copied."
