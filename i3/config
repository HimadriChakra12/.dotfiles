set $mod Mod1
set $super Mod4

#FONT
font pango:JetbrainsMono Nerd Font 16


# KEYBIND BRIGHTNESS AND VOLUME
set $refresh_i3status killall -SIGUSR1 i3status
bindsym XF86AudioRaiseVolume exec --no-startup-id bash $HOME/.config/i3/scripts/volume_raise && $refresh_i3status
bindsym Shift+XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ 140% && $refresh_i3status
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -10% && $refresh_i3status
bindsym XF86MonBrightnessUp exec --no-startup-id brightnessctl set +10% && bash $HOME/.config/i3/scripts/brightness
bindsym XF86MonBrightnessDown exec --no-startup-id brightnessctl set 10%- && bash $HOME/.config/i3/scripts/brightness
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle && $refresh_i3status
bindsym XF86AudioMicMute exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle && $refresh_i3status

#STARTUP
exec xsetroot -cursor_name left_ptr &         
exec --no-strtup-id /usr/bin/dunst
exec --no-strtup-id /usr/bin/xclip
exec --no-startup-id /usr/bin/env GTK_THEME=Adwaita:dark
exec --no-startup-id bash -c 'pgrep -x cmus-init > /dev/null || ~/sayarchi/scripts/cmus-init'
exec --no-startup-id greenclip daemon
exec --no-startup-id bash $HOME/.config/i3/scripts/nightlight
exec --no-startup-id bash $HOME/sayarchi/BentoPDF/bento-startup.sh
exec --no-startup-id ibus start
exec --no-startup-id ~/sayarchi/bin/dx ollama serve
exec --no-startup-id ~/sayarchi/bin/appimgctl run ~/Applications/Beeper.AppImage
exec --no-startup-id libinput-gestures
exec --no-startup-id xdman-beta
exec --no-startup-id xclip


exec --no-startup-id sh -c "notify-send 'Syncing Repos' \
yay -Sy \
notify-send 'Synced Repos'"

exec --no-strtup-id /usr/local/bin/volume-monitor

#WALLPAPER
# exec_always --no-startup-id bash ~/.config/i3/Wallpaper/randomize.sh

exec_always --no-startup-id feh --bg-fill /home/himadri/.config/i3/Wallpaper/Wallpaper
bindsym $super+l exec i3lock \
  --image "$HOME/.dotfiles/i3/Wallpaper/Lock/Untitled.jpg" \
  --fill

## CUSTOM SCRIPTS
bindsym $mod+Shift+p exec bash $HOME/.config/i3/scripts/rofi/powerrofi
bindsym $mod+m exec bash $HOME/.config/i3/scripts/rofi/cmus-control
bindsym $mod+r exec bash $HOME/.config/i3/scripts/nightlight
bindsym $mod+Shift+m exec bash $HOME/.config/i3/scripts/rofi/library

bindsym $super+Shift+period exec bash $HOME/.config/i3/scripts/rofi/stickerpicker
bindsym $super+Tab exec rofi -show window
bindsym $super+comma exec bash $HOME/.config/i3/scripts/rofi/wallpaper
bindsym $super+g exec bash $HOME/.config/i3/scripts/rofi/gamelauncher
bindsym $mod+shift+b exec bash $HOME/.config/i3/scripts/rofi/bluetooth
bindsym $super+m exec bash $HOME/.config/i3/scripts/rofi/musicpicker
bindsym $super+p exec bash $HOME/.config/i3/scripts/rofi/powermenu
bindsym $super+period exec bash $HOME/.config/i3/scripts/rofi/emojipicker
bindsym $super+r exec bash $HOME/.config/i3/scripts/rofi/screenrecorder
bindsym $mod+shift+t exec bash $HOME/.config/i3/scripts/rofi/timer
bindsym $super+s exec bash $HOME/.config/i3/scripts/empty_workspace
bindsym $super+Shift+w exec bash $HOME/.config/i3/scripts/recog.sh
bindsym $super+v exec rofi -modi "clipboard:greenclip print" -show clipboard
bindsym $super+u exec bash $HOME/.config/i3/scripts/rofi/urlman
bindsym $super+slash exec bash ~/.config/i3/scripts/rofi/cmd
bindsym $super+y exec sh ~/.dotfiles/i3/scripts/rofi/yt
bindsym $super+shift+t exec bash ~/.dotfiles/i3/scripts/rofi/bookman

bindsym $super+e workspace $ws4; , exec nemo

bindsym $mod+p exec ~/.dotfiles/i3/scripts/browser http://localhost:3000
bindsym $super+i exec ~/.dotfiles/i3/scripts/browser https://instagram.com
bindsym $super+f exec ~/.dotfiles/i3/scripts/browser https://messenger.com
bindsym $super+Shift+m exec ~/.dotfiles/i3/scripts/browser https://open.spotify.com

## SCREENSHOTS
bindsym $super+Shift+s exec flameshot gui

#bindsym $super+Shift+s exec sh -c '\
#img="$HOME/Pictures/$(date +%F_%T).png" && \
#flameshot full --clipboard --path "$img" && \
#notify-send -a flameshot -i "$img" "Screenshot taken" "Copied to clipboard" \
#'

bindsym Print exec sh -c '\
img="$HOME/Pictures/$(date +%F_%T).png" && \
flameshot full --clipboard --path "$img" && \
notify-send -a flameshot -i "$img" "Screenshot taken" "Copied to clipboard" \
'

bindsym shift+space exec --no-startup-id rofi -show drun

## RESIZING
bindsym Ctrl+Shift+Escape exec wezterm start --class btop btop
for_window [class="btop"] floating enable
for_window [class="btop"] resize set 1200 800, move position center

for_window [class="ffplay"] floating enable
for_window [class="ffplay"] sticky enable
for_window [class="ffplay"] resize set 600 340, move position right bottom

for_window [class="qimgv"] floating enable
for_window [class="qimgv"] resize set 1200 800, move position center

for_window [class="Sxiv"] floating enable
for_window [class="Sxiv"] resize set 1200 800, move position center

for_window [class="xdm-app"] floating enable
for_window [class="Xdm-app"] floating enable
for_window [class="xdm-app"] move position center
for_window [class="Xdm-app"] move position center

for_window [class="mpv"] move to workspace $ws3

## WINDOW NAVIGATION 
floating_modifier $mod
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# MOVEMENT WINDOW
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# ADDITIONAL LAYOUT
bindsym $mod+f fullscreen toggle
bindsym $mod+Shift+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+s layout toggle split
bindsym $mod+space focus mode_toggle
bindsym $mod+a focus parent
#bindsym ctrl+space exec --no-startup-id dmenu_run
bindsym $mod+Shift+q kill
bindsym $mod+Shift+r restart

## SWITCH TO WORKSPACE
bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9
bindsym $mod+0 workspace number $ws10

## MOVE FOCUSED 
bindsym $mod+Shift+1 move container to workspace number $ws1  , workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2  , workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3  , workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4  , workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5  , workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6  , workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7  , workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8  , workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9  , workspace number $ws9
bindsym $mod+Shift+0 move container to workspace number $ws10 , workspace number $ws10

## BORDER RULE
set $blue_focused #31748f     
set $grey_unfocused #6e6a86     

client.focused           $blue_focused  $blue_focused  #e0def4  $blue_focused  $blue_focused
client.focused_inactive  $grey_unfocused  $grey_unfocused  #908caa  $grey_unfocused  $grey_unfocused
client.unfocused         $grey_unfocused  $grey_unfocused  #6e6a86  $grey_unfocused  $grey_unfocused
client.urgent            $blue_focused  $blue_focused  #e0def4  $blue_focused  $blue_focused
client.placeholder       $grey_unfocused  $grey_unfocused  #e0def4  $grey_unfocused  $grey_unfocused
client.background        $grey_unfocused


bar {
    font pango: JetBrains Mono 8
    status_command i3blocks -c ~/.config/i3/i3blocks.conf
    position bottom
    tray_padding 5
    strip_workspace_numbers yes
    strip_workspace_name no
    tray_output primary

    colors {
        background #282828      # gruvbox dark bg
        statusline #ebdbb2      # gruvbox fg
        separator  #504945      # gruvbox gray

        focused_workspace  #d5c4a1 #d5c4a1 #282828  # wheat bg, dark text
        inactive_workspace #282828 #282828 #fbf1c7  # subtle inactive
    }
}
## WINDOW RULE
for_window [class=".*"] border pixel 0
## for_window [class="obs"] move to workspace $ws9
for_window [class="nvim"] move to workspace $ws3, fullscreen enable
for_window [class="firefox"] move to workspace $ws2
## for_window [class="wallpaper"] move to workspace $ws1


## APPLICATION KEYBIND
bindsym $mod+b workspace $ws2; , exec firefox
bindsym $mod+Return ; exec wezterm
bindsym $mod+bracketleft workspace prev
bindsym $mod+Tab focus next
bindsym $mod+bracketright workspace next

# Toggle floating for the focused window
bindsym $mod+t floating toggle

#Endeavour Flavours
gaps inner 6
gaps outer 3

set $ws1 "1:~"
set $ws2 "2:@"
set $ws3 "3:#"
set $ws4 "4:$"
set $ws5 "5:%"
set $ws6 "6:^"
set $ws7 "7:&"
set $ws8 "8:*"
set $ws9 "9:("
set $ws10 "10:)"
